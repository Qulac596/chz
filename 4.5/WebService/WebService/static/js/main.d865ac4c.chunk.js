(this["webpackJsonpmedical-api"]=this["webpackJsonpmedical-api"]||[]).push([[0],{115:function(e,t){e.exports={apiUrl:"/api",baseUrl:"/"}},116:function(e,t,a){},117:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),s=a.n(n),r=a(37),l=a.n(r),i=a(4),o=a(13),d="UserData";function u(){}var j=Object(n.createContext)({token:null,userId:null,login:u,logout:u,isAuth:!1,naklId:null}),b=a(10),O=a(6),m=a.n(O),v=a(7),h=a(11),x=a(85),p=a.n(x),_=a(86),f=a.n(_),k=p.a.create({baseURL:f.a.apiUrl});function N(e,t){if(!t)return!0;var a=!0;return t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),a}function g(e){return new Date(e).toLocaleDateString({month:"2-digit",year:"numeric",day:"2-digit"})}function y(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var C=function(e){var t=e.label,a=e.type,n=e.onChange,s=e.placeholder,r=e.autoFocus;return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"authoriz__text",children:t}),Object(c.jsx)("div",{className:"authoriz__input",children:Object(c.jsx)("input",{type:a,onChange:n,required:!0,placeholder:s,autoFocus:r})})]})};a(116);var S=function(e){var t=e.text,a=e.onClick;return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"error__title",children:"\u043e\u0448\u0438\u0431\u043a\u0430"}),Object(c.jsx)("div",{className:"error__text",children:t}),Object(c.jsxs)("div",{className:"error__close",onClick:a,children:[Object(c.jsx)("div",{className:"error__close-item"}),Object(c.jsx)("div",{className:"error__close-item"})]}),Object(c.jsx)("button",{className:"error__btn btn",onClick:a,children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]})};a(117);var w=function(e){var t=e.onClick,a=e.transparent;return Object(c.jsx)("div",{className:a?"backDropTransparent":"backDrop",onClick:t})};var M=function(e){var t=e.text,a=e.onClick;return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"successfully__title",children:"\u0443\u0441\u043f\u0435\u0448\u043d\u043e"}),Object(c.jsx)("div",{className:"successfully__text",children:t}),Object(c.jsxs)("div",{className:"successfully__close",onClick:a,children:[Object(c.jsx)("div",{className:"successfully__close-item"}),Object(c.jsx)("div",{className:"successfully__close-item"})]}),Object(c.jsx)("button",{className:"successfully__btn btn",onClick:a,children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]})};var A=function(e){var t=e.text,a=e.onClick;return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"message__title",children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),Object(c.jsx)("div",{className:"message__text",children:t}),Object(c.jsxs)("div",{className:"message__close",onClick:a,children:[Object(c.jsx)("div",{className:"message__close-item"}),Object(c.jsx)("div",{className:"message__close-item"})]}),Object(c.jsx)("button",{className:"message__btn btn",onClick:a,children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]})};var T=function(e){var t=e.text,a=e.onClick;return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"warning__title",children:"\u043e\u0448\u0438\u0431\u043a\u0430"}),Object(c.jsx)("div",{className:"warning__text",children:t}),Object(c.jsxs)("div",{className:"warning__close",onClick:a,children:[Object(c.jsx)("div",{className:"warning__close-item"}),Object(c.jsx)("div",{className:"warning__close-item"})]}),Object(c.jsx)("button",{className:"warning__btn btn",onClick:a,children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]})};var V=function(e){var t=e.text,a=e.onClick;return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"error__title",children:"\u043e\u0448\u0438\u0431\u043a\u0430"}),Object(c.jsx)("div",{className:"error__text",children:t}),Object(c.jsxs)("div",{className:"error__close",onClick:a,children:[Object(c.jsx)("div",{className:"error__close-item"}),Object(c.jsx)("div",{className:"error__close-item"})]}),Object(c.jsx)("button",{className:"error__btn btn",onClick:a,children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]})};var D=function(e){var t=e.error,a=e.success,n=e.message,s=e.warning,r=e.action,l=e.text,i=e.active,o=e.toggleActive;return Object(c.jsxs)(c.Fragment,{children:[i?Object(c.jsxs)("div",{className:"popup",children:[t?Object(c.jsx)(S,{text:l,onClick:o}):null,a?Object(c.jsx)(M,{text:l,onClick:o}):null,n?Object(c.jsx)(A,{text:l,onClick:o}):null,s?Object(c.jsx)(T,{text:l,onClick:o}):null,r?Object(c.jsx)(V,{text:l,onClick:o}):null]}):null,i?Object(c.jsx)(w,{onClick:o}):null]})};var E=function(){var e=Object(n.useState)({isFormValid:!1,formControls:{username:{value:"",type:"text",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",placeholder:"\u043b\u043e\u0433\u0438\u043d",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043b\u043e\u0433\u0438\u043d",valid:!1,touched:!1,validation:{required:!0}},password:{value:"",type:"password",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",placeholder:"*****",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043f\u0430\u0440\u043e\u043b\u044c",valid:!1,touched:!1,validation:{required:!0}}}}),t=Object(i.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],d=l[1],u=Object(n.useState)(!1),b=Object(i.a)(u,2),O=b[0],x=b[1],p=Object(n.useState)(""),_=Object(i.a)(p,2),f=_[0],g=_[1],y=Object(n.useContext)(j),S=function(){var e=Object(v.a)(m.a.mark((function e(t){var c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),d(!1),g(""),c={login:a.formControls.username.value,password:a.formControls.password.value},e.prev=4,e.next=7,k.put("/users/enter",null,{params:c});case 7:(n=e.sent).data.is_error?(g(n.data.error_message),d(!0),x(!0)):y.login(n.data.data.access_token,n.data.data.fio),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),g("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a!"),d(!0),x(!0);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),w=Object.keys(a.formControls).map((function(e,t){var n=a.formControls[e],r=n.label,l=n.value,i=n.type,o=n.valid,d=n.touched,u=n.placeholder,j=n.errorMessage,b=n.validation;return Object(c.jsx)(C,{valid:o,touched:d,errorMessage:j,shouldValidate:!!b,label:r,type:i,value:l,placeholder:u,onChange:function(t){return function(e,t){var c=Object(h.a)({},a.formControls),n=c[t];n.value=e.target.value,n.touched=!0,n.valid=N(n.value,n.validation);var r=!0;Object.keys(c).forEach((function(e){r=c[e].valid&&r})),s({formControls:c,isFormValid:r})}(t,e)},autoFocus:0===t},t)}));return Object(c.jsxs)("div",{className:"authoriz",children:[Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("form",{className:"authoriz__wrapper",onSubmit:S,children:[Object(c.jsx)("div",{className:"authoriz__logo logo",children:Object(c.jsx)("img",{src:"data:image/png;base64,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",alt:""})}),Object(c.jsx)("div",{className:"authoriz__title",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),w,Object(c.jsx)("button",{onClick:S,type:"submit",className:"btn authoriz__btn",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]})}),o?Object(c.jsx)(D,{text:f,active:O,error:o,toggleActive:function(){x(!O)}}):null]})},F=a(34),W=Object(n.createContext)({});a(119);var I=function(){return Object(c.jsx)("div",{className:"loadingio-spinner-spinner-p9ghraavsjd",children:Object(c.jsxs)("div",{className:"ldio-fpzv0oc7st",children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})})};a(120);var P=function(e){var t=e.itemName,a=e.data,n=e.state,s=e.onClick,r=e.changeValue,l=e.value,i=a.map((function(e){return Object(c.jsx)("div",{className:"list-select-option",onClick:function(){return r(e)},children:e[l]},Math.random())}));return Object(c.jsxs)("div",{className:n?"select active":"select",onClick:s,children:[Object(c.jsx)("div",{className:"list-select-selector",children:Object(c.jsx)("span",{className:"select__current",children:t})}),n?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"select__body-bg"}),Object(c.jsx)("div",{className:"select__body",children:i})]}):null,n?Object(c.jsx)(w,{onClick:s,transparent:!0}):null]})};a(121);var H=function(){var e=Object(n.useContext)(j),t=e.naklId?"/nakl-one/"+e.naklId:"/";return Object(c.jsx)("header",{className:"header",children:Object(c.jsxs)("ul",{className:"menu",children:[Object(c.jsx)(o.b,{to:"/",children:Object(c.jsx)("li",{className:"menu__list",children:Object(c.jsx)("div",{className:"menu__list-link",children:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438"})})}),Object(c.jsx)(o.b,{to:"/",children:Object(c.jsx)("li",{className:"menu__list",children:Object(c.jsx)("div",{className:"menu__list-link",children:"\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u044b\u0435"})})}),Object(c.jsx)(o.b,{to:t,children:Object(c.jsx)("li",{className:"menu__list",children:Object(c.jsx)("div",{className:"menu__list-link",children:"\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f"})})}),Object(c.jsx)("li",{className:"menu__list",children:Object(c.jsxs)("div",{className:"menu__list-link",children:[e.userId,Object(c.jsx)("div",{className:"menu__list-sublink",children:Object(c.jsx)("div",{className:"menu__list-sublink-word",onClick:e.logout,children:Object(c.jsx)("span",{children:"\u0412\u044b\u0439\u0442\u0438"})})})]})})]})})};var J=function(e){var t=e.children;return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(H,{}),t]})};var U=function(){var e=Object(b.g)(),t=Object(n.useContext)(j),a=Object(n.useState)([]),s=Object(i.a)(a,2),r=s[0],l=s[1],d=Object(n.useState)(!0),u=Object(i.a)(d,2),O=u[0],x=u[1],p=Object(n.useState)(!1),_=Object(i.a)(p,2),f=_[0],N=_[1],C=Object(n.useMemo)((function(){return{minWidth:30,width:150,maxWidth:200}}),[]),S=Object(n.useMemo)((function(){return[{Header:"\u0421\u0442\u0430\u0442\u0443\u0441",accessor:"status"},{Header:"\u2116",accessor:"doc_num"},{Header:"\u0414\u0430\u0442\u0430",accessor:"doc_date",Cell:function(e){return g(e.row.original.doc_date)}},{Header:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a",accessor:"provider"},{Header:"\u0410\u043a\u0446\u0435\u043d\u0442",accessor:"acceptance_type"},{Header:"\u0422\u0438\u043f \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430",accessor:"contract_type"},{Header:"\u0421\u0443\u043c\u043c\u0430, \u0420.",accessor:"sum"}]}),[]),w=Object(F.useTable)({columns:S,data:r,defaultColumn:C},F.useSortBy,F.useResizeColumns,F.useFlexLayout,F.useRowSelect),M=w.getTableProps,A=w.headerGroups,T=w.rows,V=w.prepareRow,E=Object(n.useState)(!1),H=Object(i.a)(E,2),U=H[0],B=H[1],q=Object(n.useState)(!1),K=Object(i.a)(q,2),Q=K[0],Y=K[1],R=Object(n.useState)(!1),z=Object(i.a)(R,2),L=z[0],X=z[1],Z=Object(n.useState)(!1),G=Object(i.a)(Z,2),$=G[0],ee=G[1],te=Object(n.useState)([]),ae=Object(i.a)(te,2),ce=ae[0],ne=ae[1],se=Object(n.useState)([]),re=Object(i.a)(se,2),le=re[0],ie=re[1],oe=Object(n.useContext)(W),de=Object(i.a)(oe.year,2),ue=de[0],je=de[1],be=Object(i.a)(oe.month,2),Oe=be[0],me=be[1],ve=Object(i.a)(oe.status,2),he=ve[0],xe=ve[1],pe=Object(i.a)(oe.company,2),_e=pe[0],fe=pe[1],ke=oe.years,Ne=oe.months;return Object(n.useEffect)((function(){x(!0);var e={company_id:_e.company_id,year:ue.value,month:Oe.value,status_id:he.nakl_status_id};function a(){return(a=Object(v.a)(m.a.mark((function a(){var c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.get("/nakls/filtr",{params:e,headers:{accessToken:t.token}});case 3:(c=a.sent).data.is_error?N(!0):l(c.data.data),x(!1),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),x(!1),N(!0);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))).apply(this,arguments)}"all"===_e.company_id&&delete e.company_id,"all"===ue.value&&delete e.year,"all"===Oe.value&&delete e.month,"all"===he.nakl_status_id&&delete e.status_id,function(){a.apply(this,arguments)}()}),[ue.value,Oe.value,he.nakl_status_id,_e.company_id,t.token]),Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(m.a.mark((function e(){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/companies",{headers:{accessToken:t.token}});case 3:return a=e.sent,e.next=6,k.get("/reference-books/nakl-statuses",{headers:{accessToken:t.token}});case 6:c=e.sent,a.data.is_error||c.data.is_error?N(!0):(a.data.data.push({name:"\u0412\u0441\u0435",value:"all"}),c.data.data.push({nakl_status_id:"all",value:"\u0412\u0441\u0435"}),ie(a.data.data),ne(c.data.data),y(he)&&y(_e)&&(fe(a.data.data[a.data.data.length-1]),xe(c.data.data[c.data.data.length-1])),x(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),x(!1),N(!0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}x(!0),function(){e.apply(this,arguments)}()}),[t.token]),O?Object(c.jsx)(I,{}):f?Object(c.jsx)(D,{active:!0,error:!0,text:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435!",toggleActive:function(){t.logout()}}):Object(c.jsx)(J,{children:Object(c.jsx)("div",{className:"overhead",children:Object(c.jsxs)("div",{className:"overhead__block",children:[Object(c.jsx)("div",{className:"overhead__block-top",children:Object(c.jsxs)("div",{className:"overhead__block-top-right",children:[Object(c.jsxs)("div",{className:"overhead__block-top-title",children:["\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u044b\u0435",Object(c.jsx)(o.b,{to:"/create",children:Object(c.jsxs)("button",{className:"buttonPlus",children:[Object(c.jsx)("div",{className:"buttonPlus-item"}),Object(c.jsx)("div",{className:"buttonPlus-item"})]})})]}),Object(c.jsx)("div",{className:"overhead__block-top-subtitle",children:"\u041f\u043e\u044f\u0441\u043d\u044f\u044e\u0449\u0438\u0439 \u0442\u0435\u043a\u0441\u0442"})]})}),Object(c.jsxs)("div",{className:"overhead__block-bottom",children:[Object(c.jsxs)("div",{className:"overhead__block-select",children:[Object(c.jsxs)("div",{className:"list-select",children:[Object(c.jsx)("div",{className:"list-select-text",children:"\u0413\u043e\u0434"}),Object(c.jsx)(P,{onClick:function(){B(!U),Y(!1),X(!1),ee(!1)},data:ke,state:U,changeValue:je,itemName:ue.name,value:"name"})]}),Object(c.jsxs)("div",{className:"list-select",children:[Object(c.jsx)("div",{className:"list-select-text",children:"\u041c\u0435\u0441\u044f\u0446"}),Object(c.jsx)(P,{onClick:function(){Y(!Q),B(!1),X(!1),ee(!1)},data:Ne,state:Q,changeValue:me,itemName:Oe.name,value:"name"})]}),Object(c.jsxs)("div",{className:"list-select",children:[Object(c.jsx)("div",{className:"list-select-text",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(c.jsx)(P,{onClick:function(){X(!L),B(!1),Y(!1),ee(!1)},data:ce,state:L,changeValue:xe,itemName:he.value,value:"value"})]}),Object(c.jsxs)("div",{className:"list-select",children:[Object(c.jsx)("div",{className:"list-select-text",children:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a"}),Object(c.jsx)(P,{onClick:function(){ee(!$),B(!1),Y(!1),X(!1)},data:le,state:$,changeValue:fe,itemName:_e.name,value:"name"})]})]}),Object(c.jsx)("div",{className:"table",children:Object(c.jsx)("div",{className:"table__block-wrapper",children:Object(c.jsxs)("div",Object(h.a)(Object(h.a)({},M()),{},{children:[Object(c.jsx)("div",{children:A.map((function(e){return Object(c.jsx)("div",Object(h.a)(Object(h.a)({},e.getHeaderGroupProps()),{},{className:"tr",children:e.headers.map((function(e){return Object(c.jsxs)("div",Object(h.a)(Object(h.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{className:"th",children:[e.render("Header"),e.canResize&&Object(c.jsx)("div",Object(h.a)(Object(h.a)({},e.getResizerProps()),{},{className:"resizer ".concat(e.isResizing?"isResizing":"")}))]}))}))}))}))}),Object(c.jsx)("div",{className:"tbody",children:T.map((function(t){return V(t),Object(c.jsx)("div",Object(h.a)(Object(h.a)({},t.getRowProps()),{},{className:t.original.status_style,onDoubleClick:function(){return a=t.original.nakl_id,void e.push("/nakl-one/".concat(a));var a},children:t.cells.map((function(e){return Object(c.jsx)("div",Object(h.a)(Object(h.a)({},e.getCellProps()),{},{className:"td",children:e.render("Cell")}))}))}))}))})]}))})})]})]})})})};a(126),a(127);var B=function(e){var t=e.itemName,a=e.data,n=e.state,s=e.onClick,r=e.changeValue,l=e.value,i=a.map((function(e){return Object(c.jsx)("div",{className:"list-select-option",onClick:function(){return r(e)},children:e[l]},Math.random())}));return Object(c.jsxs)("div",{className:n?"select select-table-active active":"select select-table-active",onClick:s,children:[Object(c.jsx)("div",{className:"list-select-selector table-select",children:Object(c.jsx)("span",{className:"select__current",children:t})}),n?Object(c.jsx)("div",{className:"select__body select__table",children:i}):null,n?Object(c.jsx)(w,{onClick:s,transparent:!0}):null]})};var q=function(e){var t=e.item,a=e.onClick,s=t.status,r=t.name,l=t.code_count,o=t.count,d=t.validation,u=t.price,b=t.nds,O=t.sum,h=Object(n.useContext)(j),x=Object(n.useState)(u),p=Object(i.a)(x,2),_=p[0],f=p[1],N=Object(n.useState)([]),g=Object(i.a)(N,2),y=g[0],C=g[1],S=Object(n.useState)(!1),w=Object(i.a)(S,2),M=w[0],A=w[1],T=Object(n.useState)({value:b,is_default:!1}),V=Object(i.a)(T,2),D=V[0],E=V[1];return Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/reference-books/nds-values",{headers:{accessToken:h.token}});case 3:(t=e.sent).data.data.push({value:"\u0411\u0435\u0437 \u041d\u0414\u0421",is_default:!1}),C(t.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[h]),Object(c.jsxs)("tr",{className:"table__block-table-coincide",onDoubleClick:function(){return a(t)},children:[Object(c.jsx)("td",{children:Object(c.jsx)("span",{children:s})}),Object(c.jsx)("td",{children:r}),Object(c.jsx)("td",{children:l}),Object(c.jsx)("td",{children:o}),Object(c.jsx)("td",{children:d}),Object(c.jsx)("td",{children:Object(c.jsx)("input",{className:"nakl-input",onChange:function(e){f(e.target.value)},type:"text",value:_})}),Object(c.jsx)("td",{className:"list-select list-select-item",children:Object(c.jsx)(B,{onClick:function(){A(!M)},data:y,state:M,changeValue:E,itemName:D.value,value:"value"})}),Object(c.jsx)("td",{children:O})]})},K=a(42),Q=a.n(K),Y=a(48);a(76),a(128);var R=function(e){var t=e.onChange,a=e.data,s=Object(n.forwardRef)((function(e,t){return Object(c.jsx)("div",{className:"Select_input",onClick:e.onClick,ref:t,children:e.value})}));return Object(c.jsx)(Q.a,{dateFormat:"dd.MM.yyyy",selected:a,onChange:function(e){return t(e)},customInput:Object(c.jsx)(s,{}),locale:Y.a})};var z=function(){var e=Object(b.g)(),t=Object(b.i)().id,a=Object(n.useState)({}),r=Object(i.a)(a,2),l=r[0],d=r[1],u=Object(n.useState)([]),O=Object(i.a)(u,2),h=O[0],x=O[1],p=Object(n.useState)([]),_=Object(i.a)(p,2),f=_[0],N=_[1],y=Object(n.useState)(!0),C=Object(i.a)(y,2),S=C[0],w=C[1],M=Object(n.useState)(!1),A=Object(i.a)(M,2),T=A[0],V=A[1],E=Object(n.useContext)(j),F=Object(n.useState)(new Date),W=Object(i.a)(F,2),P=W[0],H=W[1],U=Object(n.useState)(!1),B=Object(i.a)(U,2),K=B[0],Q=B[1],Y=function(){var a=Object(v.a)(m.a.mark((function a(){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.delete("/nakls-full/-".concat(t),{headers:{accessToken:E.token}});case 3:e.push("/"),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),V(!0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(){return a.apply(this,arguments)}}(),z=function(){var e=Object(v.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.put("/nakls/sign-and-send/".concat(t),null,{headers:{accessToken:E.token}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),V(!0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(v.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.put("/nakls/trust-accept/".concat(t),null,{headers:{accessToken:E.token}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),V(!0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(v.a)(m.a.mark((function e(a){var c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(a),Q(!K),e.prev=2,e.next=5,k.get("/nakls-full/"+t,{headers:{accessToken:E.token}});case 5:return c=e.sent,e.next=8,k.get("/nakls/".concat(t),{headers:{accessToken:E.token}});case 8:if(n=e.sent,!c.data.is_error&&!n.data.is_error){e.next=13;break}V(!0),e.next=18;break;case 13:return c.data.data.doc_date=new Date(a).toISOString(),n.data.data.doc_date=a,d(n.data.data),e.next=18,k.put("/nakls-full/"+l.nakl_id,c.data.data,{headers:{accessToken:E.token}});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),V(!0);case 23:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(m.a.mark((function e(){var a,c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/nakls/".concat(t),{headers:{accessToken:E.token}});case 3:return a=e.sent,e.next=6,k.get("/nakl-items/".concat(t),{headers:{accessToken:E.token}});case 6:return c=e.sent,e.next=9,k.get("/reference-books/nakl-statuses",{headers:{accessToken:E.token}});case 9:n=e.sent,E.naklId=t,a.data.is_error||c.data.is_error||n.data.is_error?V(!0):(H(new Date(a.data.data.doc_date)),x(c.data.data),d(a.data.data),N(n.data.data)),w(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),w(!1),V(!0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}V(!1),function(){e.apply(this,arguments)}()}),[t,E.token,E]);var Z=function(a){e.push("/nakl-one/".concat(t,"/skan/").concat(a.nakl_item_id))},G=function(){e.push({pathname:"/edit",state:{data:l}})};if(S)return Object(c.jsx)(I,{});if(T)return Object(c.jsx)(D,{active:!0,error:!0,text:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435!",toggleActive:function(){return E.logout()}});var $=l.acceptance_type,ee=l.doc_num,te=l.doc_date,ae=l.provider_address,ce=l.nakl_status_id,ne=l.provider_inn,se=l.provider_name,re=l.receiver_name,le=l.receiver_inn,ie=l.receiver_address,oe=h.map((function(e){return Object(c.jsx)(q,{item:e,onClick:Z},Math.random())})),de=function(e){return e.map((function(e){return Object(c.jsx)(s.a.Fragment,{children:5!==e.nakl_status_id?Object(c.jsx)("div",{className:l.nakl_status_id===e.nakl_status_id?"accent__block-post-point".concat(e.nakl_status_id," point active"):l.nakl_status_id>=e.nakl_status_id?"accent__block-post-point".concat(e.nakl_status_id," point done"):"accent__block-post-point".concat(e.nakl_status_id," point"),children:Object(c.jsx)("div",{className:"accent__block-post-point".concat(e.nakl_status_id,"-text"),children:e.value})}):null},e.nakl_status_id)}))}(f),ue=g(te),je=f.find((function(e){return e.nakl_status_id===ce})).value;return Object(c.jsx)(J,{children:Object(c.jsxs)("div",{className:"accent__block",children:[Object(c.jsxs)("div",{className:"accent__block-title",onClick:G,children:[$," \u0430\u043a\u0446\u0435\u043f\u0442 \u2116",ee," \u043e\u0442 ",ue]}),Object(c.jsx)("div",{className:"accent__block-subtitle",onClick:G,children:je}),Object(c.jsxs)("div",{className:"accent__block-post",onClick:G,children:[Object(c.jsxs)("div",{className:"accent__block-post-left",children:[Object(c.jsx)("div",{className:"accent__block-post-title",children:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a"}),Object(c.jsx)("div",{className:"accent__block-post-subtitle",children:se}),Object(c.jsxs)("div",{className:"accent__block-post-inn",children:["\u0418\u041d\u041d ",ne]}),Object(c.jsx)("div",{className:"accent__block-post-text",children:ae})]}),Object(c.jsxs)("div",{className:"accent__block-post-right",children:[Object(c.jsx)("div",{className:"accent__block-post-title",children:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c"}),Object(c.jsx)("div",{className:"accent__block-post-subtitle",children:re}),Object(c.jsxs)("div",{className:"accent__block-post-inn",children:["\u0418\u041d\u041d ",le]}),Object(c.jsx)("div",{className:"accent__block-post-text",children:ie})]})]}),Object(c.jsx)("div",{className:"accent__block-post-line",children:de}),Object(c.jsxs)("div",{className:"accent__block-select",children:[Object(c.jsxs)("div",{className:"list-select",children:[Object(c.jsx)("div",{className:"list-select-text",children:"\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u0435\u043c\u043a\u0438"}),Object(c.jsx)(R,{onChange:X,data:P})]}),Object(c.jsxs)("div",{className:"list-select",children:[Object(c.jsx)("div",{className:"accent__block-toggle",children:Object(c.jsx)("div",{className:"accent__block-toggle-point"})}),Object(c.jsx)("div",{className:"list-select-text",children:"\u041e\u0442\u043e\u0437\u0432\u0430\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"})]})]}),Object(c.jsx)("div",{className:"table__block-wrapper",children:Object(c.jsxs)("table",{className:"table__block-table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{className:"table__block-title",children:[Object(c.jsx)("th",{children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(c.jsx)("th",{children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(c.jsx)("th",{children:"\u041a\u043e\u0434\u044b \u043c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u043a\u0438"}),Object(c.jsx)("th",{children:"\u041a\u043e\u043b-\u0432\u043e"}),Object(c.jsx)("th",{children:"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430"}),Object(c.jsx)("th",{children:"\u0426\u0435\u043d\u0430, \u0420."}),Object(c.jsx)("th",{children:"\u041d\u0414\u0421, \u0420."}),Object(c.jsx)("th",{children:"\u0421\u0443\u043c\u043c\u0430(\u0441 \u041d\u0414\u0421)"})]})}),Object(c.jsx)("tbody",{children:oe})]})}),Object(c.jsxs)("div",{className:"accent__block-button",children:[Object(c.jsx)(o.b,{to:"/",children:Object(c.jsx)("button",{className:"btn",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})}),Object(c.jsx)("button",{className:"btn",onClick:L,children:"\u0414\u043e\u0432\u0435\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u0438\u0435\u043c\u043a\u0430"}),Object(c.jsx)("button",{className:"btn",onClick:Y,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(c.jsx)("button",{className:"btn",onClick:z,children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u043f\u0440\u0438\u0435\u043c\u043a\u0443"})]})]})})},L=a(28);a(186);var X=function(e){var t=e.itemName,a=e.label,n=e.data,s=e.state,r=e.onClick,l=e.changeValue,i=e.item,o=e.disabled,d=n.map((function(e){return Object(c.jsx)("div",{className:"edit__block-option",onClick:function(){return l(e)},children:e[t]||""},Math.random())}));return Object(c.jsxs)("div",{className:"edit__block-form-item",onClick:o?null:r,children:[Object(c.jsx)("div",{className:"edit__block-form-left",children:a}),Object(c.jsxs)("div",{className:s?"select edit__block-form-right active":"select edit__block-form-right",children:[Object(c.jsx)("div",{className:"edit__block-selector edit__block-form-right",children:Object(c.jsx)("span",{className:"select__current",children:i[t]||""})}),s?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"select__body-bg"}),Object(c.jsx)("div",{className:"select__body",children:d})]}):null,s?Object(c.jsx)(w,{onClick:r,transparent:!0}):null]}),o?Object(c.jsx)("div",{className:"bg-disabled"}):null]})};a(187);var Z=function(e){var t=e.label,a=e.type,n=e.onChange,s=e.placeholder,r=e.disabled,l=e.innSearch,i=e.innNotFound;return Object(c.jsxs)("div",{className:"edit__block-form-item",children:[Object(c.jsx)("div",{className:"edit__block-form-left",children:t}),Object(c.jsxs)("div",{className:"edit__block-form-right",children:[Object(c.jsx)("input",{type:a,onChange:n,placeholder:s}),l?Object(c.jsx)("div",{className:"infoText",children:"\u0418\u0434\u0435\u0442 \u043f\u043e\u0438\u0441\u043a \u0434\u0430\u043d\u043d\u044b\u0445."}):null,i?Object(c.jsx)("div",{className:"infoText",children:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a \u0441 \u0442\u0430\u043a\u0438\u043c \u0418\u041d\u041d \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d."}):null]}),r?Object(c.jsx)("div",{className:"bg-input-disabled"}):null]})};a(188);var G=function(e){var t=e.onChange,a=e.data,s=e.label,r=Object(n.forwardRef)((function(e,t){return Object(c.jsx)("div",{className:"edit__block-selector edit__block-form-right",onClick:e.onClick,ref:t,children:e.value})}));return Object(c.jsxs)("div",{className:"edit__block-form-item",children:[Object(c.jsx)("div",{className:"edit__block-form-left",children:s}),Object(c.jsx)("div",{className:"edit__block-form-right",children:Object(c.jsx)(Q.a,{dateFormat:"dd.MM.yyyy",selected:a,onChange:function(e){return t(e)},customInput:Object(c.jsx)(r,{}),locale:Y.a})})]})};var $=function(){var e=Object(n.useState)({isFormValid:!1,formControls:{INN:{value:"",type:"text",label:"\u0418\u041d\u041d \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430",placeholder:"\u0418\u041d\u041d",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0418\u041d\u041d",valid:!1,touched:!1,validation:{required:!1}},invoiceNumber:{value:"",type:"text",label:"\u041d\u043e\u043c\u0435\u0440 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u043e\u0439",placeholder:"",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",valid:!1,touched:!1,validation:{required:!0}},contractNumber:{value:"",type:"text",label:"\u041d\u043e\u043c\u0435\u0440 \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u0430",placeholder:"",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",valid:!1,touched:!1,validation:{required:!1}}}}),t=Object(i.a)(e,2),a=t[0],s=t[1],r=Object(b.g)(),l=Object(n.useContext)(j),o=Object(n.useState)(!1),d=Object(i.a)(o,2),u=d[0],O=d[1],x=Object(n.useState)(!1),p=Object(i.a)(x,2),_=p[0],f=p[1],g=Object(n.useState)(!1),C=Object(i.a)(g,2),S=C[0],w=C[1],M=Object(n.useState)(!0),A=Object(i.a)(M,2),T=A[0],V=A[1],E=Object(n.useState)(!1),F=Object(i.a)(E,2),W=F[0],P=F[1],H=Object(n.useState)(!1),J=Object(i.a)(H,2),U=J[0],B=J[1],q=Object(n.useState)([]),K=Object(i.a)(q,2),Q=K[0],Y=K[1],R=Object(n.useState)([]),z=Object(i.a)(R,2),$=z[0],ee=z[1],te=Object(n.useState)([]),ae=Object(i.a)(te,2),ce=ae[0],ne=ae[1],se=Object(n.useState)([]),re=Object(i.a)(se,2),le=re[0],ie=re[1],oe=Object(n.useState)([]),de=Object(i.a)(oe,2),ue=de[0],je=de[1],be=Object(n.useState)([]),Oe=Object(i.a)(be,2),me=Oe[0],ve=Oe[1],he=Object(n.useState)(!1),xe=Object(i.a)(he,2),pe=xe[0],_e=xe[1],fe=Object(n.useState)(!1),ke=Object(i.a)(fe,2),Ne=ke[0],ge=ke[1],ye=Object(n.useState)(!1),Ce=Object(i.a)(ye,2),Se=Ce[0],we=Ce[1],Me=Object(n.useState)(!1),Ae=Object(i.a)(Me,2),Te=Ae[0],Ve=Ae[1],De=Object(n.useState)(!1),Ee=Object(i.a)(De,2),Fe=Ee[0],We=Ee[1],Ie=Object(n.useState)(!1),Pe=Object(i.a)(Ie,2),He=Pe[0],Je=Pe[1],Ue=Object(n.useState)({}),Be=Object(i.a)(Ue,2),qe=Be[0],Ke=Be[1],Qe=Object(n.useState)({}),Ye=Object(i.a)(Qe,2),Re=Ye[0],ze=Ye[1],Le=Object(n.useState)({}),Xe=Object(i.a)(Le,2),Ze=Xe[0],Ge=Xe[1],$e=Object(n.useState)({}),et=Object(i.a)($e,2),tt=et[0],at=et[1],ct=Object(n.useState)({}),nt=Object(i.a)(ct,2),st=nt[0],rt=nt[1],lt=Object(n.useState)({}),it=Object(i.a)(lt,2),ot=it[0],dt=it[1],ut=Object(n.useState)(new Date),jt=Object(i.a)(ut,2),bt=jt[0],Ot=jt[1],mt=Object(n.useState)(new Date),vt=Object(i.a)(mt,2),ht=vt[0],xt=vt[1],pt=function(){return w(!S)},_t=function(e,t){var c=Object(h.a)({},a.formControls),n=c[t];if(n.value=e.target.value,n.touched=!0,n.valid=N(n.value,n.validation),"INN"===t){function r(){return(r=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/companies",{params:{inn:n.value},headers:{accessToken:l.token}});case 3:"not_found"===(t=e.sent).data.data.status?(B(!0),P(!1),Ke({})):"search"===t.data.data.status?(P(!0),B(!1),Ke({})):(Ke(t.data.data.company),P(!1),B(!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){r.apply(this,arguments)}()}else B(!1),P(!1);var i=!0;Object.keys(c).forEach((function(e){i=c[e].valid&&i})),s({formControls:c,isFormValid:i})};Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(m.a.mark((function e(){var t,a,c,n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/companies",{headers:{accessToken:l.token}});case 3:return t=e.sent,e.next=6,k.get("/reference-books/receive-types",{headers:{accessToken:l.token}});case 6:return a=e.sent,e.next=9,k.get("/reference-books/source-types",{headers:{accessToken:l.token}});case 9:return c=e.sent,e.next=12,k.get("/reference-books/contract-types",{headers:{accessToken:l.token}});case 12:return n=e.sent,e.next=15,k.get("/reference-books/turnover-types",{headers:{accessToken:l.token}});case 15:s=e.sent,t.data.is_error||a.data.is_error||c.data.is_error||n.data.is_error||s.data.is_error?f(!0):(Y(t.data.data),ne(a.data.data),ie(c.data.data),je(n.data.data),ve(s.data.data),a.data.data.forEach((function(e){return e.is_default?Ge(e):null})),c.data.data.forEach((function(e){return e.is_default?at(e):null})),n.data.data.forEach((function(e){return e.is_default?rt(e):null})),s.data.data.forEach((function(e){return e.is_default?dt(e):null}))),O(!1),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),O(!1),f(!0);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}O(!0),function(){e.apply(this,arguments)}()}),[l.token]),Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/companies/addresses/".concat(qe.company_id||1),{headers:{accessToken:l.token}});case 3:(t=e.sent).data.is_error?f(!0):(ee(t.data.data),V(!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}V(!0),function(){e.apply(this,arguments)}()}),[l.token,qe]);var ft=function(){var e=Object(v.a)(m.a.mark((function e(t){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(y(qe)||y(Re)||y(Ze)||y(tt)||y(st)||y(ot)||""===a.formControls.invoiceNumber.value.trim())){e.next=3;break}return e.abrupt("return",pt());case 3:return c={provider_id:qe.company_id,operation_date:Object(L.default)(ht,"yyy-MM-dd hh:mm:ss"),doc_date:Object(L.default)(bt,"yyy-MM-dd hh:mm:ss"),doc_num:a.formControls.invoiceNumber.value,receive_type_id:Ze.receive_type_id,source_type_id:tt.source_type_id,contract_type_id:st.contract_type_id,turnover_type_id:ot.turnover_type_id,contract_num:a.formControls.contractNumber.value},e.prev=4,e.next=7,k.post("/nakls-full",c,{headers:{accessToken:l.token}});case 7:e.sent.data.is_error?f(!0):r.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),f(!0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),kt=Object.keys(a.formControls).map((function(e,t){var n=a.formControls[e],s=n.label,r=n.value,l=n.type,i=n.valid,o=n.touched,d=n.placeholder,u=n.errorMessage,j=n.validation;return 2===t?null:Object(c.jsx)(Z,{valid:i,touched:o,errorMessage:u,shouldValidate:!!j,label:s,type:l,value:r,placeholder:d,disabled:0===t&&!y(qe),onChange:function(t){return _t(t,e)},innSearch:0===t&&W,innNotFound:0===t&&U},t)}));return _?Object(c.jsx)(D,{active:!0,error:!0,text:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435!",toggleActive:function(){l.logout()}}):u?Object(c.jsx)(I,{}):Object(c.jsxs)("div",{className:"edit",children:[Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("form",{className:"edit__block",onSubmit:ft,children:[Object(c.jsx)("div",{className:"edit__block-title",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u043e\u0439"}),Object(c.jsxs)("div",{className:"edit__block-form",children:[Object(c.jsx)(X,{label:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a",data:Q,onClick:function(){return _e(!pe)},state:pe,changeValue:function(e){Ke(e),ze({})},itemName:"name",item:qe}),Object(c.jsx)(X,{label:"\u0410\u0434\u0440\u0435\u0441 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430",data:$,onClick:function(){return ge(!Ne)},state:Ne,changeValue:ze,itemName:"text",item:Re,disabled:y(qe)||T}),kt,Object(c.jsx)(G,{data:ht,onChange:xt,label:"\u0414\u0430\u0442\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430"}),Object(c.jsx)(G,{data:bt,onChange:Ot,label:"\u0414\u0430\u0442\u0430 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u043e\u0439"}),Object(c.jsx)(X,{label:"\u0412\u0438\u0434 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043e\u0442\u0433\u0440\u0443\u0437\u043a\u0438",data:ce,onClick:function(){return we(!Se)},state:Se,changeValue:Ge,itemName:"value",item:Ze}),Object(c.jsx)(X,{label:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",data:le,onClick:function(){return Ve(!Te)},state:Te,changeValue:at,itemName:"value",item:tt}),Object(c.jsx)(X,{label:"\u0422\u0438\u043f \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u0430",data:ue,onClick:function(){return We(!Fe)},state:Fe,changeValue:rt,itemName:"value",item:st}),Object(c.jsx)(X,{label:"\u0412\u0438\u0434 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",data:me,onClick:function(){return Je(!He)},state:He,changeValue:dt,itemName:"value",item:ot}),Object(c.jsxs)("div",{className:"edit__block-form-item",children:[Object(c.jsx)("div",{className:"edit__block-form-left",children:a.formControls.contractNumber.label}),Object(c.jsx)("div",{className:"edit__block-form-right",children:Object(c.jsx)("input",{type:a.formControls.contractNumber.type,value:a.formControls.contractNumber.value,required:!0,onChange:function(e){return _t(e,"contractNumber")}})})]})]}),Object(c.jsxs)("div",{className:"skan__button",children:[Object(c.jsx)("button",{type:"submit",onClick:ft,className:"btn skan__button-btn",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),Object(c.jsx)("div",{className:"btn skan__button-cancel",onClick:r.goBack,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})}),S?Object(c.jsx)(D,{text:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0443 \u0434\u043e \u043a\u043e\u043d\u0446\u0430!",active:S,error:!0,toggleActive:pt}):null]})},ee=a(90);var te=function(e){var t=e.item,a=t.sgtin,n=t.status;return Object(c.jsxs)("tr",{className:"table__block-table-text",children:[Object(c.jsx)("td",{children:"1"}),Object(c.jsx)("td",{children:n}),Object(c.jsx)("td",{children:a})]})};var ae=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!0),l=Object(i.a)(r,2),d=l[0],u=l[1],O=Object(n.useState)(!1),h=Object(i.a)(O,2),x=h[0],p=h[1],_=Object(n.useContext)(j),f=Object(b.i)().id,N=Object(b.i)().naklId,g=Object(n.useState)(!1),y=Object(i.a)(g,2),C=y[0],S=y[1],w=Object(n.useState)(""),M=Object(i.a)(w,2),A=M[0],T=M[1],V=Object(n.useState)(""),E=Object(i.a)(V,2),F=E[0],W=E[1],P=function(){var e=Object(v.a)(m.a.mark((function e(t){var c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!1),S(!1),W(t.target.value),e.prev=3,e.next=6,k.post("/sgtins/".concat(f),[t.target.value],{headers:{accessToken:_.token}});case 6:(c=e.sent).data.is_error?(S(!0),T(c.data.error_message)):(n=Object(ee.a)(a),console.log(c.data.data),s(n.concat(c.data.data))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),u(!1),p(!0);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/sgtins/".concat(f),{headers:{accessToken:_.token}});case 3:(t=e.sent).data.is_error?p(!0):s(t.data.data),u(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),u(!1),p(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}p(!1),u(!0),function(){e.apply(this,arguments)}()}),[f,N,_.token]),d)return Object(c.jsx)(I,{});if(x)return Object(c.jsx)(D,{active:x,error:!0,text:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435!",toggleActive:function(){return _.logout()}});var H=a.map((function(e){return Object(c.jsx)(te,{item:e},Math.random())}));return Object(c.jsx)("div",{className:"skan",children:Object(c.jsx)(J,{children:Object(c.jsxs)("div",{className:"skan__block",children:[Object(c.jsx)("div",{className:"skan__block-title",children:"\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u0434\u043e\u0432 \u043c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u043a\u0438"}),Object(c.jsx)("div",{className:"skan__block-subtitle",children:"\u0410\u0446\u0446 600\u041c\u0413 \u043f\u043e\u0440\u043e\u0448\u043e\u043a \u0434/\u043f\u0440\u0438\u0433.\u0420-\u0440\u0430/\u043f\u0440\u0438\u0435\u043c\u043a\u0430 \u0432\u043d\u0443\u0442\u0440\u044c \u043f\u0430\u043a. X6 (R)"}),Object(c.jsxs)("div",{className:"skan__block-wp",children:[Object(c.jsx)("div",{className:"skan__block-img",children:Object(c.jsx)("img",{src:"../images/skan.png",alt:""})}),Object(c.jsxs)("div",{className:"skan__block-num",children:[Object(c.jsx)("div",{className:"skan__block-number",children:a.length||0}),Object(c.jsx)("div",{className:"skan__block-text",children:"\u041e\u0442\u0441\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u0434\u043e\u0432"})]})]}),Object(c.jsx)("div",{className:"table__block-wrapper",children:Object(c.jsxs)("table",{className:"table__block-table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{className:"table__block-title",children:[Object(c.jsx)("th",{children:"\u2116"}),Object(c.jsx)("th",{colSpan:"2",children:"\u041a\u043e\u0434\u044b \u043c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u043a\u0438"})]})}),Object(c.jsx)("tbody",{children:H})]})}),Object(c.jsx)("form",{className:"hidden_input",children:Object(c.jsx)("input",{type:"text",onChange:P,autoFocus:!0,onBlur:function(e){return e.target.focus()},value:F})}),Object(c.jsxs)("div",{className:"skan__button",children:[Object(c.jsx)(o.b,{to:"/nakl-one/"+N,children:Object(c.jsx)("div",{className:"btn skan__button-btn",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})}),C?Object(c.jsx)("div",{className:"skan_error",children:A}):null]})]})})})};var ce=function(){var e=Object(b.h)().state.data,t=Object(n.useState)({isFormValid:!1,formControls:{INN:{value:"",type:"text",label:"\u0418\u041d\u041d \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430",placeholder:"\u0418\u041d\u041d",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0418\u041d\u041d",valid:!1,touched:!1,validation:{required:!1}},invoiceNumber:{value:"",type:"text",label:"\u041d\u043e\u043c\u0435\u0440 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u043e\u0439",placeholder:"",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",valid:!1,touched:!1,validation:{required:!0}},contractNumber:{value:"",type:"text",label:"\u041d\u043e\u043c\u0435\u0440 \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u0430",placeholder:"",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",valid:!1,touched:!1,validation:{required:!1}}}}),a=Object(i.a)(t,2),s=a[0],r=a[1],l=Object(b.g)(),o=Object(n.useContext)(j),d=Object(n.useState)(!1),u=Object(i.a)(d,2),O=u[0],x=u[1],p=Object(n.useState)(!1),_=Object(i.a)(p,2),f=_[0],g=_[1],C=Object(n.useState)(!1),S=Object(i.a)(C,2),w=S[0],M=S[1],A=Object(n.useState)(!0),T=Object(i.a)(A,2),V=T[0],E=T[1],F=Object(n.useState)(!1),W=Object(i.a)(F,2),P=W[0],H=(W[1],Object(n.useState)(!1)),J=Object(i.a)(H,2),U=J[0],B=(J[1],Object(n.useState)([])),q=Object(i.a)(B,2),K=q[0],Q=q[1],Y=Object(n.useState)([]),R=Object(i.a)(Y,2),z=R[0],$=R[1],ee=Object(n.useState)([]),te=Object(i.a)(ee,2),ae=te[0],ce=te[1],ne=Object(n.useState)([]),se=Object(i.a)(ne,2),re=se[0],le=se[1],ie=Object(n.useState)([]),oe=Object(i.a)(ie,2),de=oe[0],ue=oe[1],je=Object(n.useState)([]),be=Object(i.a)(je,2),Oe=be[0],me=be[1],ve=Object(n.useState)(!1),he=Object(i.a)(ve,2),xe=he[0],pe=he[1],_e=Object(n.useState)(!1),fe=Object(i.a)(_e,2),ke=fe[0],Ne=fe[1],ge=Object(n.useState)(!1),ye=Object(i.a)(ge,2),Ce=ye[0],Se=ye[1],we=Object(n.useState)(!1),Me=Object(i.a)(we,2),Ae=Me[0],Te=Me[1],Ve=Object(n.useState)(!1),De=Object(i.a)(Ve,2),Ee=De[0],Fe=De[1],We=Object(n.useState)(!1),Ie=Object(i.a)(We,2),Pe=Ie[0],He=Ie[1],Je=Object(n.useState)({}),Ue=Object(i.a)(Je,2),Be=Ue[0],qe=Ue[1],Ke=Object(n.useState)({}),Qe=Object(i.a)(Ke,2),Ye=Qe[0],Re=Qe[1],ze=Object(n.useState)({}),Le=Object(i.a)(ze,2),Xe=Le[0],Ze=Le[1],Ge=Object(n.useState)({}),$e=Object(i.a)(Ge,2),et=$e[0],tt=$e[1],at=Object(n.useState)({}),ct=Object(i.a)(at,2),nt=ct[0],st=ct[1],rt=Object(n.useState)({}),lt=Object(i.a)(rt,2),it=lt[0],ot=lt[1],dt=Object(n.useState)(new Date),ut=Object(i.a)(dt,2),jt=ut[0],bt=ut[1],Ot=Object(n.useState)(new Date),mt=Object(i.a)(Ot,2),vt=mt[0],ht=mt[1],xt=function(){return M(!w)},pt=function(e,t){var a=Object(h.a)({},s.formControls),c=a[t];c.value=e.target.value,c.touched=!0,c.valid=N(c.value,c.validation);var n=!0;Object.keys(a).forEach((function(e){n=a[e].valid&&n})),r({formControls:a,isFormValid:n})};Object(n.useEffect)((function(){function t(){return(t=Object(v.a)(m.a.mark((function t(){var a,c,n,l,i,d,u,j,b,O,v,p,_;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.get("/companies",{headers:{accessToken:o.token}});case 3:return a=t.sent,t.next=6,k.get("/reference-books/receive-types",{headers:{accessToken:o.token}});case 6:return c=t.sent,t.next=9,k.get("/reference-books/source-types",{headers:{accessToken:o.token}});case 9:return n=t.sent,t.next=12,k.get("/reference-books/contract-types",{headers:{accessToken:o.token}});case 12:return l=t.sent,t.next=15,k.get("/reference-books/turnover-types",{headers:{accessToken:o.token}});case 15:return i=t.sent,t.next=18,k.get("/nakls-full/"+e.nakl_id,{headers:{accessToken:o.token}});case 18:d=t.sent,a.data.is_error||c.data.is_error||n.data.is_error||l.data.is_error||i.data.is_error||d.data.is_error?g(!0):(Q(a.data.data),ce(c.data.data),le(n.data.data),ue(l.data.data),me(i.data.data),u=d.data.data,(j=Object(h.a)({},s)).formControls.contractNumber.value=u.contract_num,j.formControls.invoiceNumber.value=u.doc_num,r(j),b=a.data.data.find((function(e){return e.company_id===u.provider_id})),O=c.data.data.find((function(e){return e.receive_type_id===u.receive_type_id})),v=n.data.data.find((function(e){return e.source_type_id===u.source_type_id})),p=l.data.data.find((function(e){return e.contract_type_id===u.contract_type_id})),_=i.data.data.find((function(e){return e.turnover_type_id===u.turnover_type_id})),ht(new Date(u.operation_date)),bt(new Date(u.doc_date)),ot(_),st(p),tt(v),qe(b),Ze(O)),x(!1),t.next=27;break;case 23:t.prev=23,t.t0=t.catch(0),x(!1),g(!0);case 27:case"end":return t.stop()}}),t,null,[[0,23]])})))).apply(this,arguments)}x(!0),function(){t.apply(this,arguments)}()}),[o.token]),Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/companies/addresses/".concat(Be.company_id||1),{headers:{accessToken:o.token}});case 3:(t=e.sent).data.is_error?g(!0):($(t.data.data),E(!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}E(!0),function(){e.apply(this,arguments)}()}),[o.token,Be]);var _t=function(){var t=Object(v.a)(m.a.mark((function t(a){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!(y(Be)||y(Ye)||y(Xe)||y(et)||y(nt)||y(it)||""===s.formControls.invoiceNumber.value.trim())){t.next=3;break}return t.abrupt("return",xt());case 3:return c={provider_id:Be.company_id,operation_date:Object(L.default)(vt,"yyy-MM-dd hh:mm:ss"),doc_date:Object(L.default)(jt,"yyy-MM-dd hh:mm:ss"),doc_num:s.formControls.invoiceNumber.value,receive_type_id:Xe.receive_type_id,source_type_id:et.source_type_id,contract_type_id:nt.contract_type_id,turnover_type_id:it.turnover_type_id,contract_num:s.formControls.contractNumber.value},t.prev=4,t.next=7,k.put("/nakls-full/"+e.nakl_id,c,{headers:{accessToken:o.token}});case 7:t.sent.data.is_error?g(!0):l.goBack(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),g(!0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}(),ft=Object.keys(s.formControls).map((function(e,t){var a=s.formControls[e],n=a.label,r=a.value,l=a.type,i=a.valid,o=a.touched,d=a.placeholder,u=a.errorMessage,j=a.validation;return 1===t||2===t?null:Object(c.jsx)(Z,{valid:i,touched:o,errorMessage:u,shouldValidate:!!j,label:n,type:l,value:r,placeholder:d,disabled:0===t&&!y(Be),onChange:function(t){return pt(t,e)},innSearch:0===t&&P,innNotFound:0===t&&U},t)}));return f?Object(c.jsx)(D,{active:!0,error:!0,text:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435!",toggleActive:function(){o.logout()}}):O?Object(c.jsx)(I,{}):Object(c.jsxs)("div",{className:"edit",children:[Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("form",{className:"edit__block",onSubmit:_t,children:[Object(c.jsx)("div",{className:"edit__block-title",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u043e\u0439"}),Object(c.jsxs)("div",{className:"edit__block-form",children:[Object(c.jsx)(X,{label:"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a",data:K,onClick:function(){return pe(!xe)},state:xe,changeValue:function(e){qe(e),Re({})},itemName:"name",item:Be}),Object(c.jsx)(X,{label:"\u0410\u0434\u0440\u0435\u0441 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430",data:z,onClick:function(){return Ne(!ke)},state:ke,changeValue:Re,itemName:"text",item:Ye,disabled:y(Be)||V}),ft,Object(c.jsxs)("div",{className:"edit__block-form-item",children:[Object(c.jsx)("div",{className:"edit__block-form-left",children:s.formControls.invoiceNumber.label}),Object(c.jsx)("div",{className:"edit__block-form-right",children:Object(c.jsx)("input",{type:s.formControls.invoiceNumber.type,value:s.formControls.invoiceNumber.value,required:!0,onChange:function(e){return pt(e,"invoiceNumber")}})})]}),Object(c.jsx)(G,{data:vt,onChange:ht,label:"\u0414\u0430\u0442\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430"}),Object(c.jsx)(G,{data:jt,onChange:bt,label:"\u0414\u0430\u0442\u0430 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u043e\u0439"}),Object(c.jsx)(X,{label:"\u0412\u0438\u0434 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043e\u0442\u0433\u0440\u0443\u0437\u043a\u0438",data:ae,onClick:function(){return Se(!Ce)},state:Ce,changeValue:Ze,itemName:"value",item:Xe}),Object(c.jsx)(X,{label:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",data:re,onClick:function(){return Te(!Ae)},state:Ae,changeValue:tt,itemName:"value",item:et}),Object(c.jsx)(X,{label:"\u0422\u0438\u043f \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u0430",data:de,onClick:function(){return Fe(!Ee)},state:Ee,changeValue:st,itemName:"value",item:nt}),Object(c.jsx)(X,{label:"\u0412\u0438\u0434 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",data:Oe,onClick:function(){return He(!Pe)},state:Pe,changeValue:ot,itemName:"value",item:it}),Object(c.jsxs)("div",{className:"edit__block-form-item",children:[Object(c.jsx)("div",{className:"edit__block-form-left",children:s.formControls.contractNumber.label}),Object(c.jsx)("div",{className:"edit__block-form-right",children:Object(c.jsx)("input",{type:s.formControls.contractNumber.type,value:s.formControls.contractNumber.value,required:!0,onChange:function(e){return pt(e,"contractNumber")}})})]})]}),Object(c.jsxs)("div",{className:"skan__button",children:[Object(c.jsx)("button",{type:"submit",onClick:_t,className:"btn skan__button-btn",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),Object(c.jsx)("div",{className:"btn skan__button-cancel",onClick:l.goBack,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})}),w?Object(c.jsx)(D,{text:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0443 \u0434\u043e \u043a\u043e\u043d\u0446\u0430!",active:w,error:!0,toggleActive:xt}):null]})},ne=[{name:"\u042f\u043d\u0432\u0430\u0440\u044c",value:1},{name:"\u0424\u0435\u0432\u0440\u0430\u043b\u044c",value:2},{name:"\u041c\u0430\u0440\u0442",value:3},{name:"\u0410\u043f\u0440\u0435\u043b\u044c",value:4},{name:"\u041c\u0430\u0439",value:5},{name:"\u0418\u044e\u043d\u044c",value:6},{name:"\u0418\u044e\u043b\u044c",value:7},{name:"\u0410\u0432\u0433\u0443\u0441\u0442",value:8},{name:"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c",value:9},{name:"\u041e\u043a\u0442\u044f\u0431\u0440\u044c",value:10},{name:"\u041d\u043e\u044f\u0431\u0440\u044c",value:11},{name:"\u0414\u0435\u043a\u0430\u0431\u0440\u044c",value:12},{name:"\u0412\u0441\u0435",value:"all"}],se=function(e){var t=(new Date).getFullYear(),a=[];for(e=e||1980;e<=t;){var c=e++;a.push({name:c,value:c})}return a.reverse(),a.push({name:"\u0412\u0441\u0435",value:"all"}),a}(2002);var re=function(){var e=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),r=Object(i.a)(s,2),l=r[0],o=r[1],u=Object(n.useState)(null),j=Object(i.a)(u,2),b=j[0],O=j[1],m=Object(n.useCallback)((function(e,t){c(e),O(t),localStorage.setItem(d,JSON.stringify({userId:t,token:e}))}),[]),v=Object(n.useCallback)((function(){c(null),O(null),localStorage.removeItem(d)}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem(d));e&&e.token&&m(e.token,e.userId),o(!0)}),[m]),{login:m,logout:v,token:a,userId:b,ready:l}}(),t=e.login,a=e.logout,s=e.token,r=e.userId,l=e.ready,u=!!s,O=function(e){return e?Object(c.jsxs)(b.d,{children:[Object(c.jsx)(b.b,{path:"/",exact:!0,children:Object(c.jsx)(U,{})}),Object(c.jsx)(b.b,{path:"/create",exact:!0,children:Object(c.jsx)($,{})}),Object(c.jsx)(b.b,{path:"/edit",exact:!0,children:Object(c.jsx)(ce,{})}),Object(c.jsx)(b.b,{path:"/nakl-one/:id",exact:!0,children:Object(c.jsx)(z,{})}),Object(c.jsx)(b.b,{path:"/nakl-one/:naklId/skan/:id",exact:!0,children:Object(c.jsx)(ae,{})}),Object(c.jsx)(b.a,{to:"/"})]}):Object(c.jsxs)(b.d,{children:[Object(c.jsx)(b.b,{path:"/auth",exact:!0,children:Object(c.jsx)(E,{})}),Object(c.jsx)(b.a,{to:"/auth"})]})}(u),m=Object(n.useState)({name:(new Date).getFullYear(),value:(new Date).getFullYear()}),v=Object(i.a)(m,2),h=v[0],x=v[1],p=Object(n.useState)({name:ne[(new Date).getMonth()].name,value:(new Date).getMonth()+1}),_=Object(i.a)(p,2),f=_[0],k=_[1],N=Object(n.useState)({}),g=Object(i.a)(N,2),y=g[0],C=g[1],S=Object(n.useState)({}),w=Object(i.a)(S,2),M=w[0],A=w[1];return l?Object(c.jsx)(j.Provider,{value:{login:t,logout:a,token:s,userId:r,isAuth:u},children:Object(c.jsx)(W.Provider,{value:{year:[h,x],month:[f,k],status:[y,C],company:[M,A],years:se,months:ne},children:Object(c.jsx)(o.a,{children:O})})}):Object(c.jsx)(I,{})};a(189),a(190),a(191);l.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(re,{})}),document.getElementById("root"))},86:function(e,t,a){e.exports=a(115)}},[[192,1,2]]]);
//# sourceMappingURL=main.d865ac4c.chunk.js.map